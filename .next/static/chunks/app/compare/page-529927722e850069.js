(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[266],{16830:function(e,a,t){Promise.resolve().then(t.bind(t,85956))},85956:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return p}});var r=t(3827),s=t(64090),i=t(26587),o=t(31310),l=t(23351),n=t(87149),c=t(48463),d=t(5435),m=t(54339),u=t(89227),x=t(40623),h=t(71483);let y={control:(e,a)=>({...e,backgroundColor:"var(--background)",borderColor:a.isFocused?"var(--primary)":"var(--secondary)",boxShadow:a.isFocused?"0 0 0 1px var(--primary)":"none","&:hover":{borderColor:"var(--primary)"},borderRadius:"0.5rem",padding:"0.25rem",color:"var(--text)"}),input:e=>({...e,color:"var(--text)"}),singleValue:e=>({...e,color:"var(--text)"}),placeholder:e=>({...e,color:"var(--text)",opacity:.7}),menu:e=>({...e,backgroundColor:"var(--background)",border:"1px solid var(--secondary)",borderRadius:"0.5rem"}),option:(e,a)=>({...e,backgroundColor:a.isSelected?"var(--primary)":a.isFocused?"var(--secondary)":"var(--background)",color:a.isSelected?"white":"var(--text)","&:active":{backgroundColor:"var(--primary)",color:"white"}}),multiValue:e=>({...e,backgroundColor:"var(--secondary)",borderRadius:"0.25rem"}),multiValueLabel:e=>({...e,color:"var(--text)"}),multiValueRemove:e=>({...e,color:"var(--text)","&:hover":{backgroundColor:"var(--accent)",color:"white"}})};function p(){let[e,a]=(0,s.useState)([]),[t,p]=(0,s.useState)([]),[b,g]=(0,s.useState)(!0),[j,v]=(0,s.useState)(null);(0,s.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/players");if(!e.ok)throw Error("Failed to fetch players");let a=await e.json();p(a)}catch(e){console.error("Error fetching players:",e),v(e instanceof Error?e.message:"Oyuncular y\xfcklenirken bir hata oluştu")}finally{g(!1)}})()},[]);let k=t=>{a(e.filter(e=>e._id!==t))},f=t.filter(a=>!e.some(e=>e._id===a._id)).map(e=>({value:e._id,label:"".concat(e.name," (").concat(e.team,")")})),N=e.length>0?e.reduce((e,a)=>{let t=[{subject:"Gol",[a.name]:a.stats.goals},{subject:"Asist",[a.name]:a.stats.assists},{subject:"Ma\xe7",[a.name]:a.stats.matches},{subject:"Pas %",[a.name]:a.stats.passAccuracy}];return 0===e.length?t:e.map((e,a)=>({...e,...t[a]}))},[]):[{subject:"Gol",A:0},{subject:"Asist",A:0},{subject:"Ma\xe7",A:0},{subject:"Pas %",A:0}],w=N.reduce((e,a)=>(Object.keys(a).forEach(t=>{"subject"!==t&&(e[t]=Math.max(e[t]||0,a[t]))}),e),{}),_=N.map(e=>({...e,...w}));return b?(0,r.jsx)("div",{className:"text-center py-8",children:(0,r.jsx)("div",{className:"loading-spinner"})}):j?(0,r.jsx)("div",{className:"text-center py-8 text-red-500 dark:text-red-400",children:j}):(0,r.jsxs)("main",{className:"container mx-auto px-4 py-12 md:py-16",children:[(0,r.jsx)(u.E.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},className:"text-4xl md:text-5xl font-bold text-center mb-8 md:mb-12 text-gray-800 dark:text-white",children:"Oyuncu Karşılaştırma"}),(0,r.jsxs)(u.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2,ease:"easeOut"},className:"mb-8 max-w-lg mx-auto",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4 text-gray-800 dark:text-white",children:"Karşılaştırılacak Oyuncuları Se\xe7in (Max 3)"}),(0,r.jsx)(x.ZP,{options:f,onChange:r=>{if(r&&e.length<3){let s=t.find(e=>e._id===r.value);s&&!e.some(e=>e._id===s._id)&&a([...e,s])}},placeholder:"Oyuncu se\xe7in...",isClearable:!0,isDisabled:e.length>=3||b,styles:y})]}),e.length>0&&(0,r.jsx)(u.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4,ease:"easeOut"},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12",children:e.map(e=>(0,r.jsxs)(u.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},className:"p-6 bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 relative",children:[(0,r.jsx)("button",{onClick:()=>k(e._id),className:"absolute top-3 right-3 text-gray-500 hover:text-red-500 dark:text-gray-400 dark:hover:text-red-400 transition-colors duration-200","aria-label":"Remove player",children:(0,r.jsx)(h.Z,{size:20})}),(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4 text-gray-800 dark:text-white",children:e.name}),(0,r.jsxs)("div",{className:"space-y-2 text-gray-600 dark:text-gray-400 text-sm",children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{className:"font-medium",children:"Pozisyon:"})," ",e.position]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{className:"font-medium",children:"Yaş:"})," ",e.age]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{className:"font-medium",children:"Takım:"})," ",e.team]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{className:"font-medium",children:"\xdclke:"})," ",e.country]})]})]},e._id))}),e.length>0&&(0,r.jsxs)(u.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6,ease:"easeOut"},className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-6 text-gray-800 dark:text-white text-center",children:"İstatistik Karşılaştırması"}),(0,r.jsx)("div",{className:"w-full h-[400px]",children:(0,r.jsx)(i.h,{width:"100%",height:"100%",children:(0,r.jsxs)(o.H,{data:_,children:[(0,r.jsx)(l.n,{stroke:"#e2e8f0",className:"dark:stroke-gray-700"}),(0,r.jsx)(n.I,{dataKey:"subject",stroke:"#718096",tick:{fill:"var(--text)",fontSize:12}})," ",(0,r.jsx)(c.S,{angle:30,domain:[0,"auto"],stroke:"#718096",tick:{fill:"var(--text)",fontSize:12}})," ",e.map((e,a)=>(0,r.jsx)(d.F,{name:e.name,dataKey:e.name,stroke:"hsl(".concat(100*a,", 70%, 50%)"),fill:"hsla(".concat(100*a,", 70%, 50%, 0.2)"),strokeWidth:2,dot:!0,isAnimationActive:!1},e._id)),(0,r.jsx)(m.D,{wrapperStyle:{paddingTop:"20px"}})]})})})]})]})}}},function(e){e.O(0,[227,434,971,69,744],function(){return e(e.s=16830)}),_N_E=e.O()}]);